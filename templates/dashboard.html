{% extends 'base/base.html' %}

{% block title %}Dashboard{% endblock title %}
{% block breadcrumb %}Dashboard{% endblock breadcrumb %}

{% block content %}
<!-- Inline CSS -->
<style>
  /* Body and general styling */
  body {
    font-family: 'Arial', sans-serif;
    background-color: #f4f6f9;
    color: #333;
  }

  /* Gradient background for the small boxes */
  .small-box {
    position: relative;
    display: block;
    border-radius: 0.25rem;
    margin-bottom: 1rem;
    padding: 1rem;
    color: #fff;
    text-align: center;
    overflow: hidden;
    transition: transform 0.3s ease-in-out;
    background: linear-gradient(135deg, #6a11cb, #2575fc); /* Default gradient */
  }

  .small-box .inner {
    padding: 10px;
  }

  .small-box:hover {
    transform: scale(1.05); /* Animation on hover */
  }

  .small-box .icon {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 2.5rem;
    opacity: 0.15;
    transition: opacity 0.3s ease;
  }

  .small-box:hover .icon {
    opacity: 0.3;
  }

  .small-box-footer {
    display: block;
    color: rgba(255, 255, 255, 0.8);
    padding: 10px 0;
    text-align: center;
    text-decoration: none;
    background: rgba(0, 0, 0, 0.1);
    transition: background 0.3s ease;
  }

  .small-box-footer:hover {
    background: rgba(0, 0, 0, 0.2);
  }

  /* Custom box colors */
  .bg-info {
    background: linear-gradient(135deg, #17a2b8, #00bcd4);
  }

  .bg-success {
    background: linear-gradient(135deg, #28a745, #32cd32);
  }

  .bg-warning {
    background: linear-gradient(135deg, #ffc107, #ff5722);
  }

  .bg-danger {
    background: linear-gradient(135deg, #dc3545, #ff6347);
  }

  /* Table styling */
  .table {
    width: 100%;
    margin-bottom: 1rem;
    color: #212529;
    background-color: #fff;
    border-radius: 0.5rem;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;
  }

  .table-bordered {
    border: 1px solid #dee2e6;
  }

  .table-striped tbody tr:nth-of-type(odd) {
    background-color: #f9f9f9;
  }

  .table th, .table td {
    padding: 0.75rem;
    vertical-align: top;
    border-top: 1px solid #dee2e6;
  }

  .table th {
    text-align: left;
    background: linear-gradient(135deg, #00bcd4, #17a2b8); /* Gradient header */
    color: #fff;
    font-weight: bold;
  }

  .table-hover tbody tr:hover {
    background-color: #f1f1f1;
    transform: translateY(-2px);
    transition: transform 0.3s ease, background-color 0.3s ease;
  }

  /* Add animation to rows */
  .table tbody tr {
    opacity: 0;
    animation: fadeIn 0.6s ease-out forwards;
  }

  .table tbody tr:nth-child(even) {
    animation-delay: 0.3s;
  }

  .table tbody tr:nth-child(odd) {
    animation-delay: 0.5s;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Button styles */
  .btn-info {
    background-color: #17a2b8;
    border-color: #17a2b8;
    transition: background-color 0.3s ease, transform 0.3s ease;
  }

  .btn-info:hover {
    background-color: #007bff;
    transform: scale(1.1);
  }

  .btn-danger {
    background-color: #dc3545;
    border-color: #dc3545;
    transition: background-color 0.3s ease, transform 0.3s ease;
  }

  .btn-danger:hover {
    background-color: #ff6347;
    transform: scale(1.1);
  }

  /* Status text styles */
  .text-success {
    color: #28a745 !important;
    font-weight: bold;
  }

  .text-primary {
    color: #007bff !important;
    font-weight: bold;
  }

  .text-danger {
    color: #dc3545 !important;
    font-weight: bold;
  }
</style>

<div class="row">
  <div class="col-lg-3 col-6">
    <!-- small box -->
    <div class="small-box bg-info">
      <div class="inner">
        {% if event_ctg %}
          <h3>{{ event_ctg }}</h3>
        {% else %}
          <h3>0</h3>
        {% endif %}
        <p>Event Category</p>
      </div>
      <div class="icon">
        <i class="ion ion-bag"></i>
      </div>
      <a href="{% url 'event-category-list' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
    </div>
  </div>
  <!-- ./col -->
  <div class="col-lg-3 col-6">
    <!-- small box -->
    <div class="small-box bg-success">
      <div class="inner">
        {% if event %}
          <h3>{{ event }}</h3>
        {% else %}
          <h3>0</h3>
        {% endif %}
        <p>Events</p>
      </div>
      <div class="icon">
        <i class="ion ion-stats-bars"></i>
      </div>
      <a href="{% url 'event-list' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
    </div>
  </div>
  <!-- ./col -->
  <div class="col-lg-3 col-6">
    <!-- small box -->
    <div class="small-box bg-warning">
      <div class="inner">
        {% if user %}
          <h3>{{ user }}</h3>
        {% else %}
          <h3>0</h3>
        {% endif %}
        <p>User Registrations</p>
      </div>
      <div class="icon">
        <i class="ion ion-person-add"></i>
      </div>
      <a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
    </div>
  </div>
  <!-- ./col -->
  <div class="col-lg-3 col-6">
    <div class="small-box bg-danger">
      <div class="inner">
        {% if complete_event %}
          <h3>{{ complete_event }}</h3>
        {% else %}
        <h3>0</h3>
        {% endif %}
        <p>Complete Event</p>
      </div>
      <div class="icon">
        <i class="ion ion-pie-graph"></i>
      </div>
      <a href="{% url 'complete-event' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
    </div>
  </div>
  <!-- ./col -->
</div>

<!-- Event List -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <div class="row">
          <div class="col-md-5">
            <h5>Event List</h5>
          </div>
        </div>
      </div>
      <div class="card-body">
        <table class="table table-striped table-bordered datatable" id="DataTables_Table_0">
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Category</th>
              <th>Start Date</th>
              <th>End Date</th>
              <th>Venue</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for event in events %}
              <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ event.name|capfirst }}</td>
                <td>{{ event.category }}</td>
                <td>{{ event.start_date }}</td>
                <td>{{ event.end_date }}</td>
                <td>{{ event.venue|capfirst }}</td>
                <td>
                  {% if event.status == 'active' %}
                    <a href="{% url 'update-event-status' event.id %}" class="text-success">{{ event.status|title }}</a>
                  {% elif event.status == 'completed' %}
                    <a href="{% url 'update-event-status' event.id %}" class="text-primary">{{ event.status|title }}</a>
                  {% else %}
                    <a href="{% url 'update-event-status' event.id %}" class="text-danger">{{ event.status|title }}</a>
                  {% endif %}
                </td>
                <td>
                  <a class="btn btn-info" href="{% url 'event-detail' event.pk %}" title="view">
                    <i class="fa fa-eye"></i>
                  </a>
                  <a class="btn btn-info" href="{% url 'event-edit' event.pk %}" title="edit">
                    <i class="fa fa-edit"></i>
                  </a>
                  <a class="btn btn-danger" href="{% url 'event-delete' event.pk %}" title="delete">
                    <i class="fa fa-trash"></i>
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock content %}
